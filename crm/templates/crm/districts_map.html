<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <title>Districts Map</title>
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.0.3/dist/leaflet.css"
   integrity="sha512-07I2e+7D8p6he1SIM+1twR5TIrhUQn9+I6yjqD53JQjFiMf8EtC93ty0/5vJTZGF8aAocvHYNEDJajGdNx1IsQ=="
   crossorigin=""/>

    <script src="https://unpkg.com/leaflet@1.0.3/dist/leaflet.js"
   integrity="sha512-A7vV8IFfih/D732iSSKi20u/ooOfj/AGehOKq0f4vLT1Zr2Y+RX7C+w8A1gaSasGtRUZpF/NZgzSAu4/Gc41Lg=="
   crossorigin=""></script>

  <script src="https://cdnjs.cloudflare.com/ajax/libs/axios/0.16.2/axios.js"></script>

    <style type="text/css">
        #mapid  {
            height: 360px;
        }

    </style>
</head>
<body>
    <h1>Hello maps</h1>
    <div id="mapid"></div>


    <script type="text/javascript">

    function onEachFeature(feature, layer) {
      layer.bindPopup(feature.properties.wards_desc + "<br/>" + feature.properties.alder);
    }

        var dmap = L.map('mapid').setView([41.3053, -72.9213], 13);
        // var map = L.map('map').setView([51.505, -0.09], 13); 

        L.tileLayer('http://{s}.tile.osm.org/{z}/{x}/{y}.png', {
              attribution: '&copy; <a href="http://osm.org/copyright">OpenStreetMap</a> contributors'
        }).addTo(dmap);

        axios.get('/districts/districts/')
            .then(function (response) {
                console.log(response.data);
                L.geoJSON(response.data, {
                    onEachFeature: onEachFeature
                }).addTo(dmap);
            })
            .catch(function (error) {
                console.log(error);
            }); 


    </script>

</body>
</html>